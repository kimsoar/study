# 1장. 오브젝트와 의존관계

---

- 빈(bean): 스프링이 제어권을 가지고 직접 만들고 관계를 부여하는 오브젝트
- 자바빈 또는 엔터프라이즈 자바빈(EJB)에서 말하는 빈과 비슷한 오브젝트 단위의 애플리케이션 컴포넌트를 말한다.

- 스프링 빈: 스프링 컨테이너가 생성과 관계설정, 사용 등을 제어해주는 제어의 역전이 적용된 오브젝트
- 빈 팩토리: 빈의 생성과 관계설정 같은 제어를 담당하는 IoC 오브젝트
  , 보통 빈 팩토리보다는 이를 좀더 확장한 애플리케이션 컨텍스트(application context)를 주로 사용

---

### 1.5.3 스프링 IoC의 용어 정리

- 빈(bean)

  - 스프링이 IoC 방식으로 관리하는 오브젝트
  - 관리 되는 오브젝트(managed object)
  - 스프링이 직접 그 생성과 제어를 담당하는 오브젝트

- 빈 팩토리(bean factory)

  - 스프링의 IoC를 담당하는 핵심 컨테이너
  - 빈 등록, 생성, 조회하고 돌려줌, 그외 부가적인 빈을 관리
  - 보통은 빈 팩토리를 바로 사용하지 않고 이를 확장한 애플리케이션 컨텍스트를 이용

- 애플리케이션 컨텍스트(application context)

  - 빈 팩토리를 확장한 IoC 컨테이너
  - 빈을 등록, 관리하는 기본적인 기능은 빈 팩토리와 동일
  - 스프링이 제공하는 각종 부가 서비스를 추가 제공
  - 빈 팩토리라 부를 때는 주로 빈의 생성과 제어의 관점에서 이야기하는 것, 애플리케이션 컨텍스트라 할 때는 스플링이 제공하는 애플리케이션 지원 기능을 모두 포함해서 이야기 하는 것

- 설정정보/설정 메타정보(configuration metadata)

  - 애플리케이션 컨텍스트 또는 빈 팩토리가 IoC를 적용하기 위해 사용하는 메타정보르 말한다.

- 컨테이너(container) 또는 IoC 컨테이너

  - IoC 방식으로 빈을 관리한다는 의미에서 애플리케이션 컨텍스트나 빈 팩토리를 컨테이너 또는 IoC 컨테이너라고 한다.
  - 애플리케이션 컨텍스트 오브젝트는 하나의 애플리케이션에서 보통 여러 개가 만들어져 사용된다. 이를 통틀어 스프링 컨테이너라고 부를 수 있다.

- 스프링 프레임워크

  - IoC 컨테이너, 애플리케이션 컨텍스트를 포함해서 스프링이 제공하는 모든 기능을 통틀어 말할 때 주로 사용.

  > 오브젝트의 동일성과 동등성
  >
  > > 동일한(identical) 오브젝트: == 연산자
  > > 동등한 정보를 담고 있는(equivalent) 오브젝트: equal 연산자

### 1.7.2 런타임 의존관계 설정

#### 의존관계 주입이란, 다음과 같은 세가지 조건을 충족하는 작업

- 클래스 모델이나 코드에는 런타임 시점의 의존관계가 드러나지 않는다. 그러기 위해서는 인터페이스에만 의존하고 있어야 한다.
- 런타임 시점의 의존관계는 컨테이너나 팩토리 같은 제3의 존재가 결정한다.
- 의존관계는 사용할 오브젝트에 대한 레퍼런스를 외부에서 제공(주입)해줌으로써 만들어진다.

### 1.8.1 XML 설정

|             | 자바 코드 설정정보     | XML 설정정보               |
| ----------- | ---------------------- | -------------------------- |
| 빈 설정파일 | @Configuration         | <beans>                    |
| 빈의 이름   | @Bean methodName()     | <bean id="methodName"      |
| 빈의 클래스 | return new BeanClass() | class="a.b.c...BeanClass"> |

> @Bean -------------------------------> <bean
> public ConnectionMaker
> connectionMaker() { -----------------> id="connectionMaker"
> return new ConnectionMaker(); -------> class="springbook...DConnectionMaker" />
> }
